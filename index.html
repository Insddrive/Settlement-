<!DOCTYPE html>
<html lang="pa">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Bank Ledger - Natural Date Distribution</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        @import url('https://fonts.googleapis.com/css2?family=Noto+Sans+Gurmukhi:wght@400;700&display=swap');
        
        html, body {
            font-family: 'Noto Sans Gurmukhi', sans-serif;
            background-color: #f8fafc;
            margin: 0;
            padding: 0;
            overflow-x: auto;
            overflow-y: auto;
            font-size: 20px; 
        }

        .header-bar {
            position: sticky;
            top: 0;
            background: white;
            z-index: 100;
            padding: 15px 20px;
            border-bottom: 3px solid #334155;
            box-shadow: 0 4px 6px -1px rgba(0, 0, 0, 0.1);
            display: flex;
            justify-content: space-between;
            align-items: center;
            width: 100%;
            min-width: 900px;
        }

        .main-content {
            display: flex;
            flex-direction: column;
            align-items: center;
            padding-top: 20px;
            min-width: 900px;
        }

        table {
            border-collapse: collapse;
            background: white;
            table-layout: fixed;
            width: 880px;
            box-shadow: 0 10px 15px -3px rgba(0, 0, 0, 0.1);
        }

        th {
            background-color: #1e293b;
            color: white;
            padding: 12px 8px;
            font-size: 16px;
            border: 1px solid #0f172a;
            text-align: center;
        }

        td {
            border: 1px solid #cbd5e1;
            padding: 0;
        }

        .w-sno { width: 60px; }
        .w-date { width: 180px; }
        .w-amt { width: 140px; }
        .w-bal { width: 180px; }

        .sno-cell {
            text-align: center;
            font-size: 14px;
            color: #64748b;
            font-weight: bold;
            background-color: #f1f5f9;
        }

        .input-box {
            width: 100%;
            height: 45px;
            padding: 0 10px;
            border: none;
            text-align: right;
            font-family: 'Courier New', Courier, monospace;
            font-size: 20px;
            font-weight: bold;
            background-color: transparent;
            outline: none;
            display: block;
        }

        .input-box:focus {
            background-color: #fffbeb;
            box-shadow: inset 0 0 0 3px #3b82f6;
        }

        .date-input {
            text-align: left;
            font-family: 'Noto Sans Gurmukhi', sans-serif;
            font-size: 17px;
            font-weight: 600;
            color: #334155;
        }

        .balance-display {
            padding: 0 12px;
            text-align: right;
            font-weight: 800;
            font-size: 20px;
            color: #0f172a;
            background-color: #fafafa;
        }

        .neg-val { color: #ef4444; }
        tr:nth-child(even) { background-color: #f8fafc; }
        tr:hover { background-color: #f1f5f9; }

        .end-section {
            padding: 60px 0 150px 0;
            text-align: center;
            width: 100%;
            background: #f8fafc;
        }

        .end-text {
            font-size: 32px;
            font-weight: bold;
            color: #94a3b8;
            border-top: 2px dashed #cbd5e1;
            padding-top: 20px;
            letter-spacing: 4px;
        }

        input::-webkit-outer-spin-button,
        input::-webkit-inner-spin-button {
            -webkit-appearance: none;
            margin: 0;
        }
    </style>
</head>
<body>

    <!-- Top Summary Bar -->
    <div class="header-bar">
        <div class="flex items-center gap-6">
            <h1 class="text-2xl font-bold text-slate-800">ਖਾਤਾ ਲੇਜ਼ਰ</h1>
            <div class="flex flex-col border-l-4 pl-4 border-blue-500">
                <span class="text-[12px] font-bold text-slate-500 uppercase">ਓਪਨਿੰਗ ਬੈਲੈਂਸ</span>
                <input type="number" id="openingBalance" value="26218.18" step="0.01" 
                       class="text-2xl font-bold text-blue-700 bg-transparent w-40 focus:outline-none" 
                       oninput="calculate()">
            </div>
        </div>
        
        <div class="flex gap-10 items-center">
            <div class="text-right">
                <span class="text-[12px] font-bold text-slate-500 uppercase">ਕੁੱਲ ਡੈਬਿਟ (-)</span>
                <div id="totalDr" class="text-2xl font-bold text-red-500">0.00</div>
            </div>
            <div class="text-right border-l-2 pl-8 border-slate-200">
                <span class="text-[12px] font-bold text-slate-500 uppercase">ਅੰਤਿਮ ਬੈਲੈਂਸ</span>
                <div id="finalBal" class="text-3xl font-black text-slate-900">0.00</div>
            </div>
            <button onclick="resetAll()" class="bg-red-600 text-white px-6 py-2 rounded-lg font-bold hover:bg-red-700 shadow-lg active:scale-95 transition-all">ਰੀਸੈੱਟ</button>
        </div>
    </div>

    <!-- Main Table Area -->
    <div class="main-content">
        <table>
            <thead>
                <tr>
                    <th class="w-sno">ਨੰਬਰ</th>
                    <th class="w-date">ਤਰੀਕ (Date)</th>
                    <th class="w-amt">ਡੈਬਿਟ (-)</th>
                    <th class="w-amt">ਕਰੈਡਿਟ (+)</th>
                    <th class="w-bal">ਟੋਟਲ ਬੈਲੈਂਸ</th>
                </tr>
            </thead>
            <tbody id="ledgerBody">
                <!-- Data will be loaded by JS -->
            </tbody>
        </table>

        <!-- The End Marker -->
        <div class="end-section">
            <div class="end-text">THE END</div>
            <p class="text-slate-400 mt-2 text-sm italic">ਕੁੱਲ 149 ਐਂਟਰੀਆਂ (12 ਨਵੰਬਰ - 04 ਦਸੰਬਰ) ਸਫਲਤਾਪੂਰਵਕ ਲੋਡ ਕੀਤੀਆਂ ਗਈਆਂ ਹਨ</p>
        </div>
    </div>

    <script>
        // Real Values from PDF
        const rawValues = [
            {dr: 0, cr: 70.00}, {dr: 0, cr: 30.00}, {dr: 0, cr: 12.00}, {dr: 60.00, cr: 0}, {dr: 0, cr: 1000.00}, {dr: 0, cr: 3000.00}, {dr: 15000.00, cr: 0}, {dr: 700.00, cr: 0},
            {dr: 210.00, cr: 0}, {dr: 0, cr: 400.00}, {dr: 0, cr: 200.00}, {dr: 0, cr: 3700.00}, {dr: 1500.00, cr: 0}, {dr: 5000.00, cr: 0}, {dr: 0, cr: 905.00}, {dr: 2900.00, cr: 0},
            {dr: 0, cr: 1600.00}, {dr: 0, cr: 2047.00}, {dr: 0, cr: 133.00}, {dr: 0, cr: 600.00}, {dr: 50.00, cr: 0}, {dr: 0, cr: 100.00}, {dr: 0, cr: 210.00}, {dr: 0, cr: 424.00},
            {dr: 0, cr: 9450.00}, {dr: 0, cr: 350.00}, {dr: 0, cr: 210.00}, {dr: 0, cr: 500.00}, {dr: 0, cr: 261.00}, {dr: 1999.00, cr: 0}, {dr: 0, cr: 235.00}, {dr: 0, cr: 1200.00},
            {dr: 0, cr: 70.00}, {dr: 40.00, cr: 0}, {dr: 50.00, cr: 0}, {dr: 0, cr: 111.00}, {dr: 10.00, cr: 0}, {dr: 5000.00, cr: 0}, {dr: 10000.00, cr: 0}, {dr: 0, cr: 16692.00},
            {dr: 0, cr: 12850.00}, {dr: 30.00, cr: 0}, {dr: 6700.00, cr: 0}, {dr: 0, cr: 130.00}, {dr: 100.00, cr: 0}, {dr: 860.00, cr: 0}, {dr: 0, cr: 550.00}, {dr: 0, cr: 60.00},
            {dr: 0, cr: 1200.00}, {dr: 0, cr: 1615.00}, {dr: 50.00, cr: 0}, {dr: 0, cr: 580.00}, {dr: 0, cr: 1290.00}, {dr: 820.00, cr: 0}, {dr: 7485.00, cr: 0}, {dr: 3300.00, cr: 0},
            {dr: 0, cr: 4606.00}, {dr: 0, cr: 1068.00}, {dr: 0, cr: 134.00}, {dr: 0, cr: 133.00}, {dr: 0, cr: 713.00}, {dr: 0, cr: 180.00}, {dr: 0, cr: 757.00}, {dr: 0, cr: 200.00},
            {dr: 0, cr: 312.00}, {dr: 0, cr: 1633.00}, {dr: 0, cr: 3.00}, {dr: 0, cr: 270.00}, {dr: 272.00, cr: 0}, {dr: 0, cr: 44.00}, {dr: 0, cr: 20.00}, {dr: 0, cr: 10000.00},
            {dr: 20000.00, cr: 0}, {dr: 0, cr: 2000.00}, {dr: 20.00, cr: 0}, {dr: 170.00, cr: 0}, {dr: 60.00, cr: 0}, {dr: 0, cr: 2197.00}, {dr: 0, cr: 1220.00}, {dr: 60.00, cr: 0},
            {dr: 0, cr: 1668.00}, {dr: 0, cr: 363.00}, {dr: 0, cr: 1000.00}, {dr: 0, cr: 3000.00}, {dr: 0, cr: 50.00}, {dr: 0, cr: 500.00}, {dr: 80.00, cr: 0}, {dr: 0, cr: 115.00},
            {dr: 0, cr: 5000.00}, {dr: 0, cr: 2500.00}, {dr: 0, cr: 1101.00}, {dr: 1500.00, cr: 0}, {dr: 500.00, cr: 0}, {dr: 13200.00, cr: 0}, {dr: 0, cr: 1990.00}, {dr: 0, cr: 398.00},
            {dr: 0, cr: 221.00}, {dr: 0, cr: 430.00}, {dr: 0, cr: 424.00}, {dr: 1500.00, cr: 0}, {dr: 100.00, cr: 0}, {dr: 100.00, cr: 0}, {dr: 80.00, cr: 0}, {dr: 0, cr: 11293.00},
            {dr: 40.00, cr: 0}, {dr: 15000.00, cr: 0}, {dr: 0, cr: 2000.00}, {dr: 0, cr: 2800.00}, {dr: 0, cr: 1453.00}, {dr: 0, cr: 240.00}, {dr: 2940.00, cr: 0}, {dr: 0, cr: 875.00},
            {dr: 0, cr: 750.00}, {dr: 0, cr: 190.00}, {dr: 18400.00, cr: 0}, {dr: 0, cr: 10800.00}, {dr: 0, cr: 13000.00}, {dr: 60.00, cr: 0}, {dr: 10000.00, cr: 0}, {dr: 184.00, cr: 0},
            {dr: 250.00, cr: 0}, {dr: 0, cr: 1350.00}, {dr: 4300.00, cr: 0}, {dr: 500.00, cr: 0}, {dr: 0, cr: 1376.00}, {dr: 0, cr: 426.00}, {dr: 4360.00, cr: 0}, {dr: 0, cr: 103.00},
            {dr: 400.00, cr: 0}, {dr: 0, cr: 248.00}, {dr: 70.00, cr: 0}, {dr: 0, cr: 20.00}, {dr: 0, cr: 850.00}, {dr: 0, cr: 1900.00}, {dr: 1000.00, cr: 0}, {dr: 0, cr: 80.00},
            {dr: 0, cr: 800.00}, {dr: 0, cr: 700.00}, {dr: 0, cr: 1000.00}, {dr: 699.00, cr: 0}, {dr: 0, cr: 500.00}, {dr: 0, cr: 1450.00}, {dr: 300.90, cr: 0}, {dr: 156.00, cr: 0},
            {dr: 35.00, cr: 0}, {dr: 254.50, cr: 0}, {dr: 254.50, cr: 0}, {dr: 9000.00, cr: 0}, {dr: 0, cr: 11.00}
        ];

        // Distribution requested by user
        const countsPerDay = [8, 6, 11, 4, 2, 11, 12, 12, 3, 7, 8, 4, 4, 10, 4, 7, 11, 7, 7, 5, 4];

        function generateData() {
            const data = [];
            const startDate = new Date(2025, 10, 12); // Nov 12
            let currentIdx = 0;

            // Follow user's specific counts for the first 21 days
            for (let i = 0; i < countsPerDay.length; i++) {
                const date = new Date(startDate);
                date.setDate(startDate.getDate() + i);
                const dateStr = date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).toUpperCase();
                
                const count = countsPerDay[i];
                for (let j = 0; j < count; j++) {
                    if (currentIdx < rawValues.length) {
                        data.push({ d: dateStr, dr: rawValues[currentIdx].dr, cr: rawValues[currentIdx].cr });
                        currentIdx++;
                    }
                }
            }

            // If any transactions are left, distribute to Dec 3 and Dec 4
            while (currentIdx < rawValues.length) {
                const remaining = rawValues.length - currentIdx;
                const date = new Date(startDate);
                // Move to Dec 3 or Dec 4
                const offset = (remaining > 1) ? 21 : 22; 
                date.setDate(startDate.getDate() + offset);
                const dateStr = date.toLocaleDateString('en-GB', { day: '2-digit', month: 'short', year: 'numeric' }).toUpperCase();
                
                data.push({ d: dateStr, dr: rawValues[currentIdx].dr, cr: rawValues[currentIdx].cr });
                currentIdx++;
            }

            return data;
        }

        const pdfData = generateData();

        function renderRows() {
            const body = document.getElementById('ledgerBody');
            let html = '';
            pdfData.forEach((row, i) => {
                html += `
                    <tr>
                        <td class="sno-cell">${i + 1}</td>
                        <td class="w-date">
                            <input type="text" class="input-box date-input" value="${row.d}">
                        </td>
                        <td class="w-amt">
                            <input type="number" step="0.01" class="input-box dr-field" value="${row.dr || ''}" oninput="calculate()">
                        </td>
                        <td class="w-amt">
                            <input type="number" step="0.01" class="input-box cr-field" value="${row.cr || ''}" oninput="calculate()">
                        </td>
                        <td class="w-bal balance-display">0.00</td>
                    </tr>
                `;
            });
            body.innerHTML = html;
            calculate();
        }

        function calculate() {
            const rows = document.querySelectorAll('#ledgerBody tr');
            let balance = parseFloat(document.getElementById('openingBalance').value) || 0;
            let totalDr = 0;

            rows.forEach(row => {
                const dr = parseFloat(row.querySelector('.dr-field').value) || 0;
                const cr = parseFloat(row.querySelector('.cr-field').value) || 0;
                const balCell = row.querySelector('.balance-display');

                totalDr += dr;
                balance = (balance + cr) - dr;

                balCell.textContent = balance.toLocaleString('en-IN', { minimumFractionDigits: 2, maximumFractionDigits: 2 });
                if (balance < 0) balCell.classList.add('neg-val');
                else balCell.classList.remove('neg-val');
            });

            document.getElementById('totalDr').textContent = totalDr.toLocaleString('en-IN', { minimumFractionDigits: 2 });
            document.getElementById('finalBal').textContent = balance.toLocaleString('en-IN', { minimumFractionDigits: 2 });
        }

        function resetAll() {
            if(confirm("ਕੀ ਤੁਸੀਂ ਸਾਰਾ ਡਾਟਾ ਸਾਫ਼ ਕਰਨਾ ਚਾਹੁੰਦੇ ਹੋ?")) {
                document.querySelectorAll('.dr-field, .cr-field').forEach(i => i.value = '');
                document.getElementById('openingBalance').value = 0;
                calculate();
            }
        }

        window.onload = renderRows;
    </script>
</body>
</html>

